# Fly.ioéƒ¨ç½²æŒ‡å— - äº‘æ£€æµ‹é¡¹ç›®ä¸“ç”¨

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©Fly.ioï¼Ÿ

### é’ˆå¯¹æ‚¨çš„äº‘æ£€æµ‹é¡¹ç›®ä¼˜åŠ¿ï¼š
- ğŸ§  **1GBå†…å­˜**ï¼šè¶³å¤Ÿè¿è¡ŒPyTorch YOLOæ¨¡å‹
- ğŸ³ **DockeråŸç”Ÿ**ï¼šç›´æ¥ä½¿ç”¨æ‚¨çš„Dockerfile.minimal
- ğŸ’° **çœŸæ­£å…è´¹**ï¼šä¸ªäººé¡¹ç›®å®Œå…¨å…è´¹
- âš¡ **å…¨çƒCDN**ï¼šä¸œäº¬èŠ‚ç‚¹ï¼Œå›½å†…è®¿é—®å¿«
- ğŸ”„ **è‡ªåŠ¨ä¼‘çœ **ï¼šä¸ç”¨æ—¶è‡ªåŠ¨å…³é—­ï¼ŒèŠ‚çœèµ„æº

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### ç¬¬1æ­¥ï¼šå®‰è£…Fly CLIå·¥å…·

#### Windowsç”¨æˆ·ï¼š
```powershell
# ä½¿ç”¨PowerShellå®‰è£…
irm https://fly.io/install.ps1 | iex
```

#### æˆ–ä¸‹è½½å®‰è£…åŒ…ï¼š
- è®¿é—®ï¼šhttps://fly.io/docs/hands-on/install-flyctl/
- ä¸‹è½½Windowså®‰è£…åŒ…

### ç¬¬2æ­¥ï¼šæ³¨å†Œå¹¶ç™»å½•

```bash
# æ³¨å†ŒFly.ioè´¦å·ï¼ˆéœ€è¦ä¿¡ç”¨å¡éªŒè¯ï¼Œä½†ä¸æ‰£è´¹ï¼‰
fly auth signup

# æˆ–å¦‚æœå·²æœ‰è´¦å·
fly auth login
```

### ç¬¬3æ­¥ï¼šåˆå§‹åŒ–é¡¹ç›®

åœ¨æ‚¨çš„é¡¹ç›®ç›®å½•è¿è¡Œï¼š
```bash
cd /d/pycharmproject/Cloud_detection

# åˆå§‹åŒ–Flyåº”ç”¨
fly launch --no-deploy

# é€‰æ‹©é…ç½®ï¼š
# - App name: cloud-detection-ä½ çš„ç”¨æˆ·å
# - Region: nrt (Tokyo) æˆ– hkg (Hong Kong)
# - ä¸è¦ç«‹å³éƒ¨ç½²ï¼šé€‰æ‹© No
```

### ç¬¬4æ­¥ï¼šé…ç½®fly.toml

ç³»ç»Ÿä¼šç”Ÿæˆ`fly.toml`æ–‡ä»¶ï¼Œæ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š

```toml
app = "cloud-detection-ä½ çš„ç”¨æˆ·å"
primary_region = "nrt"

[build]
  dockerfile = "Dockerfile.minimal"

[env]
  MODEL_PATH = "/app/models/best.pt"
  PYTHONUNBUFFERED = "1"

[http_service]
  internal_port = 5000
  force_https = true
  auto_stop_machines = true
  auto_start_machines = true
  min_machines_running = 0

  [[http_service.checks]]
    grace_period = "90s"
    interval = "30s"
    method = "GET"
    path = "/health"
    timeout = "15s"

[[vm]]
  memory = "1gb"
  cpu_kind = "shared"
  cpus = 1
```

### ç¬¬5æ­¥ï¼šéƒ¨ç½²åº”ç”¨

```bash
# éƒ¨ç½²åˆ°Fly.io
fly deploy

# æŸ¥çœ‹çŠ¶æ€
fly status

# æŸ¥çœ‹æ—¥å¿—
fly logs
```

### ç¬¬6æ­¥ï¼šè·å–è®¿é—®URL

```bash
# æŸ¥çœ‹åº”ç”¨ä¿¡æ¯
fly info

# æ‚¨çš„åº”ç”¨URLä¼šæ˜¯ï¼š
# https://cloud-detection-ä½ çš„ç”¨æˆ·å.fly.dev
```

## ğŸ”§ éƒ¨ç½²åæµ‹è¯•

### æµ‹è¯•æ¥å£ï¼š
```bash
# å¥åº·æ£€æŸ¥
curl https://your-app.fly.dev/health

# è°ƒè¯•ä¿¡æ¯
curl https://your-app.fly.dev/debug

# ç½‘é¡µç•Œé¢
è®¿é—®: https://your-app.fly.dev
```

## ğŸ’° æˆæœ¬åˆ†æ

### å…è´¹é¢åº¦ï¼ˆå¯¹æ‚¨é¡¹ç›®è¶³å¤Ÿï¼‰ï¼š
- âœ… **1GBå†…å­˜** - æ‚¨çš„æ¨¡å‹çº¦éœ€600-800MB
- âœ… **1ä¸ªCPUæ ¸å¿ƒ** - æ£€æµ‹ä»»åŠ¡è¶³å¤Ÿ
- âœ… **3GBå­˜å‚¨** - æ‚¨çš„é¡¹ç›®åªæœ‰18MB
- âœ… **160GBå¸¦å®½/æœˆ** - ä¸ªäººä½¿ç”¨ç»°ç»°æœ‰ä½™

### å¦‚æœè¶…å‡ºå…è´¹é¢åº¦ï¼š
- ğŸ’° **å†…å­˜**: $0.0000022/MB/ç§’ (çº¦$5/æœˆ/GB)
- ğŸ’° **CPU**: $0.000022/CPU/ç§’ (çº¦$56/æœˆ/CPU)
- ğŸ’° **å®é™…æˆæœ¬**: ä¸ªäººé¡¹ç›®é€šå¸¸æ¯æœˆ$0-3

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆéœ€è¦ä¿¡ç”¨å¡ï¼Ÿ
A: é˜²æ»¥ç”¨ï¼Œä½†ä¸ªäººé¡¹ç›®åœ¨å…è´¹é¢åº¦å†…ä¸ä¼šæ‰£è´¹

### Q: å¦‚æœæ¨¡å‹è¿˜æ˜¯åŠ è½½å¤±è´¥ï¼Ÿ
A: 1GBå†…å­˜åº”è¯¥å¤Ÿç”¨ï¼Œå¦‚æœè¿˜å¤±è´¥å¯ä»¥ï¼š
```bash
# å‡çº§åˆ°2GBå†…å­˜
fly scale memory 2048
```

### Q: å¦‚ä½•æ›´æ–°ä»£ç ï¼Ÿ
A: æ¨é€åˆ°GitHubåè¿è¡Œï¼š
```bash
fly deploy
```

### Q: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Ÿ
A: 
```bash
fly logs --follow
```

## ğŸ¯ é¢„æœŸç»“æœ

éƒ¨ç½²æˆåŠŸåï¼š
- ğŸŒ **å…¬ç½‘URL**: `https://your-app.fly.dev`
- ğŸ“± **ç½‘é¡µç•Œé¢**: å¯æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡
- ğŸ”— **APIæœåŠ¡**: æ”¯æŒç¼–ç¨‹è°ƒç”¨
- ğŸ’° **å®Œå…¨å…è´¹**: ä¸ªäººä½¿ç”¨æ— éœ€ä»˜è´¹

---

**Fly.ioçš„1GBå†…å­˜åº”è¯¥èƒ½å®Œç¾è¿è¡Œæ‚¨çš„äº‘æ£€æµ‹æ¨¡å‹ï¼** ğŸš€ 