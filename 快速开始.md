# ğŸš€ YOLOæ£€æµ‹APIå¿«é€Ÿå¼€å§‹æŒ‡å—

## 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…Docker Desktop
1. è®¿é—® https://www.docker.com/products/docker-desktop
2. ä¸‹è½½å¹¶å®‰è£…Docker Desktop
3. é‡å¯ç”µè„‘
4. éªŒè¯å®‰è£…ï¼šæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ `docker --version`

### ç¬¬äºŒæ­¥ï¼šå‡†å¤‡æ¨¡å‹æ–‡ä»¶
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºmodelsæ–‡ä»¶å¤¹
mkdir models

# å°†æ‚¨çš„best.onnxæ–‡ä»¶å¤åˆ¶åˆ°modelsæ–‡ä»¶å¤¹
# æ–¹æ³•1ï¼šç›´æ¥æ‹–æ‹½æ–‡ä»¶åˆ°modelsæ–‡ä»¶å¤¹
# æ–¹æ³•2ï¼šä½¿ç”¨å‘½ä»¤å¤åˆ¶
copy "æ‚¨çš„æ¨¡å‹æ–‡ä»¶è·¯å¾„" models\best.onnx
```

### ç¬¬ä¸‰æ­¥ï¼šä¸€é”®éƒ¨ç½²
```bash
# Windowsç”¨æˆ·ï¼šåŒå‡»è¿è¡Œdeploy.bat
# æˆ–è€…åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¿è¡Œï¼š
deploy.bat

# Linux/Macç”¨æˆ·ï¼š
chmod +x deploy.sh
./deploy.sh
```

### ç¬¬å››æ­¥ï¼šéªŒè¯éƒ¨ç½²
```bash
# æµ‹è¯•APIæ˜¯å¦æ­£å¸¸
curl http://localhost:5000/health

# æˆ–è€…ç”¨æµè§ˆå™¨è®¿é—®ï¼š
# http://localhost:5000/health
```

## å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
docker-compose ps
```

### æŸ¥çœ‹æ—¥å¿—
```bash
docker-compose logs -f
```

### åœæ­¢æœåŠ¡
```bash
docker-compose down
```

### é‡å¯æœåŠ¡
```bash
docker-compose restart
```

## APIä½¿ç”¨ç¤ºä¾‹

### å¥åº·æ£€æŸ¥
```bash
GET http://localhost:5000/health
```

### å•å¼ å›¾ç‰‡æ£€æµ‹
```bash
# æ–‡ä»¶ä¸Šä¼ æ–¹å¼
curl -X POST http://localhost:5000/detect \
  -F "image=@your_image.jpg"

# Base64ç¼–ç æ–¹å¼
curl -X POST http://localhost:5000/detect \
  -H "Content-Type: application/json" \
  -d '{"image_base64": "base64_string"}'
```

### æ‰¹é‡æ£€æµ‹
```bash
curl -X POST http://localhost:5000/detect_batch \
  -H "Content-Type: application/json" \
  -d '{"images": ["base64_1", "base64_2"]}'
```

## æµ‹è¯•è„šæœ¬

### è¿è¡ŒAPIæµ‹è¯•
```bash
python test_api.py
```

### è¿è¡Œå®¢æˆ·ç«¯ç¤ºä¾‹
```bash
python client_example.py
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. ç«¯å£è¢«å ç”¨**
- ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£æ˜ å°„
- å°† `"5000:5000"` æ”¹ä¸º `"8080:5000"`

**2. æ¨¡å‹æ–‡ä»¶æ‰¾ä¸åˆ°**
- ç¡®ä¿ `models/best.onnx` æ–‡ä»¶å­˜åœ¨
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®

**3. Dockerå¯åŠ¨å¤±è´¥**
- æ£€æŸ¥Docker Desktopæ˜¯å¦æ­£å¸¸è¿è¡Œ
- æŸ¥çœ‹Docker Desktopè®¾ç½®

**4. å†…å­˜ä¸è¶³**
- åœ¨Docker Desktopè®¾ç½®ä¸­å¢åŠ å†…å­˜é™åˆ¶
- æˆ–å‡å°‘gunicorn workeræ•°é‡

### æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
```bash
# æŸ¥çœ‹æ„å»ºæ—¥å¿—
docker-compose build --no-cache

# æŸ¥çœ‹è¿è¡Œæ—¥å¿—
docker-compose logs -f yolo-detection-api
```

## äº‘ç«¯éƒ¨ç½²

### éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨
1. å°†æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨
2. åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼š
```bash
cd /path/to/project
chmod +x deploy.sh
./deploy.sh
```

### éƒ¨ç½²åˆ°äº‘å¹³å°
1. å°†ä»£ç æ¨é€åˆ°Gitä»“åº“
2. åœ¨äº‘å¹³å°åˆ›å»ºå®¹å™¨æœåŠ¡
3. é…ç½®æ„å»ºè§„åˆ™å’Œéƒ¨ç½²å‚æ•°

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» `Dockeræ–°æ‰‹æ•™ç¨‹.md` äº†è§£Dockerè¯¦ç»†ç”¨æ³•
- ğŸ“– é˜…è¯» `README.md` äº†è§£å®Œæ•´åŠŸèƒ½
- ğŸ§ª ä½¿ç”¨ `client_example.py` æµ‹è¯•APIè°ƒç”¨
- â˜ï¸ éƒ¨ç½²åˆ°äº‘ç«¯ä¾›å…¶ä»–è®¾å¤‡è°ƒç”¨

## è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ `Dockeræ–°æ‰‹æ•™ç¨‹.md` ä¸­çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. è¿è¡Œ `docker-compose logs -f` æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥æ¨¡å‹æ–‡ä»¶æ˜¯å¦æ­£ç¡®æ”¾ç½®

ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰ 